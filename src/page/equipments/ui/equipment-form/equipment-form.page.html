<div class="flex h-full flex-col bg-gray-50">

  <!-- Header -->
  <header class="shrink-0 border-b border-gray-200 bg-white px-4 py-4 lg:px-8">
    <div class="mx-auto max-w-3xl">
      <div class="flex items-center justify-between gap-4">
        <div class="flex-1">
          <h1 class="text-xl font-bold text-gray-900 lg:text-2xl">
            {{ store.formTitle() }}
          </h1>
          <p class="mt-1 text-sm text-gray-600">
            {{ store.isEditing() ? 'Actualiza' : 'Completa' }} la información del equipo
          </p>
        </div>

        <button
          pRipple
          type="button"
          (click)="onCancel()"
          [disabled]="store.isSubmitting()"
          class="flex h-10 w-10 items-center justify-center rounded-lg border border-gray-300 bg-white text-gray-700 transition-all hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-1 disabled:cursor-not-allowed disabled:opacity-50">
          <i class="pi pi-times text-base"></i>
        </button>
      </div>
    </div>
  </header>

  <!-- Content -->
  <main class="flex-1 overflow-auto px-4 py-6 lg:px-8">
    <div class="mx-auto max-w-3xl">

      <!-- Error Global -->
      @if (store.error()) {
        <div class="mb-6 flex items-start gap-3 rounded-lg border border-red-200 bg-red-50 p-4 animate-in fade-in slide-in-from-top-2 duration-300">
          <i class="pi pi-exclamation-circle mt-0.5 text-lg text-red-600"></i>
          <div class="flex-1">
            <p class="font-medium text-red-800">Error</p>
            <p class="mt-1 text-sm text-red-700">{{ store.error() }}</p>
          </div>
          <button
            type="button"
            (click)="store.clearError()"
            class="rounded-md p-1.5 text-red-600 transition-colors hover:bg-red-100">
            <i class="pi pi-times text-sm"></i>
          </button>
        </div>
      }

      <!-- Loading State -->
      @if (store.isLoadingEquipment()) {
        <div class="rounded-xl border border-gray-200 bg-white p-6 shadow-sm">
          <div class="space-y-6">
            <div class="space-y-2">
              <div class="h-4 w-20 animate-pulse rounded bg-gray-200"></div>
              <div class="h-10 w-full animate-pulse rounded-lg bg-gray-200"></div>
            </div>
          </div>
        </div>
      }

      @else {
        <form (ngSubmit)="onSubmit()" class="space-y-6">

          <!-- Tipo de Equipo -->
          <div class="rounded-xl border border-gray-200 bg-white p-6 shadow-sm">
            <div class="mb-6 flex items-center gap-3">
              <div class="flex h-12 w-12 items-center justify-center rounded-full bg-gradient-to-br from-sky-400 to-cyan-500">
                <i class="pi pi-box text-xl text-white"></i>
              </div>
              <div>
                <h2 class="text-lg font-semibold text-gray-900">
                  Tipo de Equipo
                </h2>
                <p class="text-sm text-gray-600">
                  Selecciona si es un gabinete o panel
                </p>
              </div>
            </div>

            <!-- Radio Buttons con Estilo -->
            <div class="grid gap-3 sm:grid-cols-2">
              <!-- Cabinet -->
              <label
                class="group relative flex cursor-pointer items-center gap-4 rounded-lg border-2 p-4 transition-all"
                [class.border-sky-500]="store.formData().type === EquipmentTypeEnum.CABINET"
                [class.bg-sky-50]="store.formData().type === EquipmentTypeEnum.CABINET"
                [class.border-gray-300]="store.formData().type !== EquipmentTypeEnum.CABINET"
                [class.hover:border-gray-400]="store.formData().type !== EquipmentTypeEnum.CABINET">

                <input
                  type="radio"
                  name="equipmentType"
                  [value]="EquipmentTypeEnum.CABINET"
                  [checked]="store.formData().type === EquipmentTypeEnum.CABINET"
                  (change)="onTypeChange(EquipmentTypeEnum.CABINET)"
                  [disabled]="store.isSubmitting()"
                  class="h-5 w-5 border-gray-300 text-sky-600 focus:ring-2 focus:ring-sky-500 focus:ring-offset-0 disabled:cursor-not-allowed disabled:opacity-50">

                <div class="flex-1">
                  <div class="flex items-center gap-2">
                    <span class="text-2xl">📦</span>
                    <p class="font-semibold text-gray-900">Gabinete</p>
                  </div>
                  <p class="mt-1 text-xs text-gray-600">
                    Gabinete eléctrico o de control
                  </p>
                </div>

                @if (store.formData().type === EquipmentTypeEnum.CABINET) {
                  <i class="pi pi-check-circle text-xl text-sky-600"></i>
                }
              </label>

              <!-- Panel -->
              <label
                class="group relative flex cursor-pointer items-center gap-4 rounded-lg border-2 p-4 transition-all"
                [class.border-sky-500]="store.formData().type === EquipmentTypeEnum.PANEL"
                [class.bg-sky-50]="store.formData().type === EquipmentTypeEnum.PANEL"
                [class.border-gray-300]="store.formData().type !== EquipmentTypeEnum.PANEL"
                [class.hover:border-gray-400]="store.formData().type !== EquipmentTypeEnum.PANEL">

                <input
                  type="radio"
                  name="equipmentType"
                  [value]="EquipmentTypeEnum.PANEL"
                  [checked]="store.formData().type === EquipmentTypeEnum.PANEL"
                  (change)="onTypeChange(EquipmentTypeEnum.PANEL)"
                  [disabled]="store.isSubmitting()"
                  class="h-5 w-5 border-gray-300 text-sky-600 focus:ring-2 focus:ring-sky-500 focus:ring-offset-0 disabled:cursor-not-allowed disabled:opacity-50">

                <div class="flex-1">
                  <div class="flex items-center gap-2">
                    <span class="text-2xl">📋</span>
                    <p class="font-semibold text-gray-900">Panel</p>
                  </div>
                  <p class="mt-1 text-xs text-gray-600">
                    Panel de control o tablero
                  </p>
                </div>

                @if (store.formData().type === EquipmentTypeEnum.PANEL) {
                  <i class="pi pi-check-circle text-xl text-sky-600"></i>
                }
              </label>
            </div>
          </div>

          <!-- Información Básica -->
          <div class="rounded-xl border border-gray-200 bg-white p-6 shadow-sm">
            <div class="mb-6 flex items-center gap-3">
              <div class="flex h-12 w-12 items-center justify-center rounded-full bg-gradient-to-br from-purple-400 to-pink-500">
                <i class="pi pi-tag text-xl text-white"></i>
              </div>
              <div>
                <h2 class="text-lg font-semibold text-gray-900">
                  Información Básica
                </h2>
                <p class="text-sm text-gray-600">
                  Identificador único del equipo
                </p>
              </div>
            </div>

            <!-- Tag -->
            <div class="space-y-2">
              <label [for]="'tag'" class="block text-sm font-medium text-gray-700">
                {{ getTagLabel() }}
                <span class="text-red-500">*</span>
              </label>
              <input
                id="tag"
                type="text"
                [value]="store.formData().tag"
                (input)="onTagChange($any($event.target).value)"
                [disabled]="store.isSubmitting()"
                placeholder="Ej: GAB-001, PAN-001, etc."
                class="block w-full rounded-lg border py-2.5 px-3.5 text-sm text-gray-900 placeholder-gray-400 transition-all focus:outline-none focus:ring-2 disabled:cursor-not-allowed disabled:bg-gray-50 disabled:text-gray-500"
                [ngClass]="{
                  'border-red-500 focus:border-red-500 focus:ring-red-500/20': store.validationErrors().tag,
                  'border-gray-300 focus:border-sky-500 focus:ring-sky-500/20': !store.validationErrors().tag
                }">

              @if (store.validationErrors().tag) {
                <p class="mt-1.5 flex items-start text-xs text-red-600">
                  <i class="pi pi-exclamation-circle mr-1.5 mt-0.5 text-xs"></i>
                  {{ store.validationErrors().tag }}
                </p>
              }
            </div>
          </div>

          <!-- Ubicación (Selects Encadenados) -->
          <div class="rounded-xl border border-gray-200 bg-white p-6 shadow-sm">
            <div class="mb-6 flex items-center gap-3">
              <div class="flex h-12 w-12 items-center justify-center rounded-full bg-gradient-to-br from-green-400 to-emerald-500">
                <i class="pi pi-map-marker text-xl text-white"></i>
              </div>
              <div>
                <h2 class="text-lg font-semibold text-gray-900">
                  Ubicación
                </h2>
                <p class="text-sm text-gray-600">
                  Dónde se encuentra el equipo
                </p>
              </div>
            </div>

            <div class="space-y-4">
              <!-- Cliente -->
              <div class="space-y-2">
                <label for="client" class="block text-sm font-medium text-gray-700">
                  Cliente
                  <span class="text-red-500">*</span>
                </label>

                @if (store.isLoadingClients()) {
                  <div class="flex h-10 items-center rounded-lg border border-gray-300 bg-gray-50 px-3">
                    <i class="pi pi-spinner pi-spin text-sm text-gray-400"></i>
                    <span class="ml-2 text-sm text-gray-500">Cargando clientes...</span>
                  </div>
                } @else {
                  <select
                    id="client"
                    [value]="store.formData().clientId"
                    (change)="onClientChange($any($event.target).value)"
                    [disabled]="store.isSubmitting()"
                    class="block w-full rounded-lg border py-2.5 px-3.5 text-sm text-gray-900 transition-all focus:outline-none focus:ring-2 disabled:cursor-not-allowed disabled:bg-gray-50 disabled:text-gray-500"
                    [ngClass]="{
                      'border-red-500 focus:border-red-500 focus:ring-red-500/20': store.validationErrors().clientId,
                      'border-gray-300 focus:border-sky-500 focus:ring-sky-500/20': !store.validationErrors().clientId
                    }">
                    <option value="">Selecciona un cliente</option>
                    @for (client of store.clients(); track client.id) {
                      <option [value]="client.id">{{ client.name }}</option>
                    }
                  </select>

                  @if (store.validationErrors().clientId) {
                    <p class="mt-1.5 flex items-start text-xs text-red-600">
                      <i class="pi pi-exclamation-circle mr-1.5 mt-0.5 text-xs"></i>
                      {{ store.validationErrors().clientId }}
                    </p>
                  }
                }
              </div>

              <!-- Planta -->
              <div class="space-y-2">
                <label for="plant" class="block text-sm font-medium text-gray-700">
                  Planta
                  <span class="text-red-500">*</span>
                </label>

                @if (store.isLoadingPlants()) {
                  <div class="flex h-10 items-center rounded-lg border border-gray-300 bg-gray-50 px-3">
                    <i class="pi pi-spinner pi-spin text-sm text-gray-400"></i>
                    <span class="ml-2 text-sm text-gray-500">Cargando plantas...</span>
                  </div>
                } @else {
                  <select
                    id="plant"
                    [value]="store.formData().plantId"
                    (change)="onPlantChange($any($event.target).value)"
                    [disabled]="!store.formData().clientId || store.isSubmitting()"
                    class="block w-full rounded-lg border py-2.5 px-3.5 text-sm text-gray-900 transition-all focus:outline-none focus:ring-2 disabled:cursor-not-allowed disabled:bg-gray-50 disabled:text-gray-500"
                    [ngClass]="{
                      'border-red-500 focus:border-red-500 focus:ring-red-500/20': store.validationErrors().plantId,
                      'border-gray-300 focus:border-sky-500 focus:ring-sky-500/20': !store.validationErrors().plantId
                    }">
                    <option value="">{{ store.formData().clientId ? 'Selecciona una planta' : 'Primero selecciona un cliente' }}</option>
                    @for (plant of store.plants(); track plant.id) {
                      <option [value]="plant.id">{{ plant.name }}</option>
                    }
                  </select>

                  @if (store.validationErrors().plantId) {
                    <p class="mt-1.5 flex items-start text-xs text-red-600">
                      <i class="pi pi-exclamation-circle mr-1.5 mt-0.5 text-xs"></i>
                      {{ store.validationErrors().plantId }}
                    </p>
                  }
                }
              </div>

              <!-- Área -->
              <div class="space-y-2">
                <label for="area" class="block text-sm font-medium text-gray-700">
                  Área
                  <span class="text-red-500">*</span>
                </label>

                @if (store.isLoadingAreas()) {
                  <div class="flex h-10 items-center rounded-lg border border-gray-300 bg-gray-50 px-3">
                    <i class="pi pi-spinner pi-spin text-sm text-gray-400"></i>
                    <span class="ml-2 text-sm text-gray-500">Cargando áreas...</span>
                  </div>
                } @else {
                  <select
                    id="area"
                    [value]="store.formData().areaId"
                    (change)="onAreaChange($any($event.target).value)"
                    [disabled]="!store.formData().plantId || store.isSubmitting()"
                    class="block w-full rounded-lg border py-2.5 px-3.5 text-sm text-gray-900 transition-all focus:outline-none focus:ring-2 disabled:cursor-not-allowed disabled:bg-gray-50 disabled:text-gray-500"
                    [ngClass]="{
                      'border-red-500 focus:border-red-500 focus:ring-red-500/20': store.validationErrors().areaId,
                      'border-gray-300 focus:border-sky-500 focus:ring-sky-500/20': !store.validationErrors().areaId
                    }">
                    <option value="">{{ store.formData().plantId ? 'Selecciona un área' : 'Primero selecciona una planta' }}</option>
                    @for (area of store.areas(); track area.id) {
                      <option [value]="area.id">{{ area.name }}</option>
                    }
                  </select>

                  @if (store.validationErrors().areaId) {
                    <p class="mt-1.5 flex items-start text-xs text-red-600">
                      <i class="pi pi-exclamation-circle mr-1.5 mt-0.5 text-xs"></i>
                      {{ store.validationErrors().areaId }}
                    </p>
                  }
                }
              </div>

              <!-- Ubicación -->
              <div class="space-y-2">
                <label for="location" class="block text-sm font-medium text-gray-700">
                  Ubicación
                  <span class="text-red-500">*</span>
                </label>

                @if (store.isLoadingLocations()) {
                  <div class="flex h-10 items-center rounded-lg border border-gray-300 bg-gray-50 px-3">
                    <i class="pi pi-spinner pi-spin text-sm text-gray-400"></i>
                    <span class="ml-2 text-sm text-gray-500">Cargando ubicaciones...</span>
                  </div>
                } @else {
                  <select
                    id="location"
                    [value]="store.formData().locationId"
                    (change)="onLocationChange($any($event.target).value)"
                    [disabled]="!store.formData().areaId || store.isSubmitting()"
                    class="block w-full rounded-lg border py-2.5 px-3.5 text-sm text-gray-900 transition-all focus:outline-none focus:ring-2 disabled:cursor-not-allowed disabled:bg-gray-50 disabled:text-gray-500"
                    [ngClass]="{
                      'border-red-500 focus:border-red-500 focus:ring-red-500/20': store.validationErrors().locationId,
                      'border-gray-300 focus:border-sky-500 focus:ring-sky-500/20': !store.validationErrors().locationId
                    }">
                    <option value="">{{ store.formData().areaId ? 'Selecciona una ubicación' : 'Primero selecciona un área' }}</option>
                    @for (location of store.locations(); track location.id) {
                      <option [value]="location.id">{{ location.name }}</option>
                    }
                  </select>

                  @if (store.validationErrors().locationId) {
                    <p class="mt-1.5 flex items-start text-xs text-red-600">
                      <i class="pi pi-exclamation-circle mr-1.5 mt-0.5 text-xs"></i>
                      {{ store.validationErrors().locationId }}
                    </p>
                  }
                }
              </div>
            </div>
          </div>
          <!-- Especificaciones Técnicas -->
          <div class="rounded-xl border border-gray-200 bg-white p-6 shadow-sm">
            <div class="mb-6 flex items-center gap-3">
              <div class="flex h-12 w-12 items-center justify-center rounded-full bg-gradient-to-br from-orange-400 to-amber-500">
                <i class="pi pi-cog text-xl text-white"></i>
              </div>
              <div>
                <h2 class="text-lg font-semibold text-gray-900">
                  Especificaciones Técnicas
                </h2>
                <p class="text-sm text-gray-600">
                  Detalles técnicos del equipo
                </p>
              </div>
            </div>

            <div class="space-y-4">
              <!-- Tipo Específico (Cabinet Type o Panel Type) -->
              <div class="space-y-2">
                <label for="equipmentType" class="block text-sm font-medium text-gray-700">
                  {{ getEquipmentTypeSelectLabel() }}
                  <span class="text-red-500">*</span>
                </label>

                @if (store.isLoadingTypes()) {
                  <div class="flex h-10 items-center rounded-lg border border-gray-300 bg-gray-50 px-3">
                    <i class="pi pi-spinner pi-spin text-sm text-gray-400"></i>
                    <span class="ml-2 text-sm text-gray-500">Cargando tipos...</span>
                  </div>
                } @else {
                  <select
                    id="equipmentType"
                    [value]="store.formData().equipmentTypeId || ''"
                    (change)="onEquipmentTypeChange($any($event.target).value)"
                    [disabled]="store.isSubmitting()"
                    class="block w-full rounded-lg border py-2.5 px-3.5 text-sm text-gray-900 transition-all focus:outline-none focus:ring-2 disabled:cursor-not-allowed disabled:bg-gray-50 disabled:text-gray-500"
                    [ngClass]="{
                      'border-red-500 focus:border-red-500 focus:ring-red-500/20': store.validationErrors().equipmentTypeId,
                      'border-gray-300 focus:border-sky-500 focus:ring-sky-500/20': !store.validationErrors().equipmentTypeId
                    }">
                    <option value="">{{ getEquipmentTypeSelectPlaceholder() }}</option>
                    @for (type of store.availableEquipmentTypes(); track type.id) {
                      <option [value]="type.id">{{ type.name }}</option>
                    }
                  </select>

                  @if (store.validationErrors().equipmentTypeId) {
                    <p class="mt-1.5 flex items-start text-xs text-red-600">
                      <i class="pi pi-exclamation-circle mr-1.5 mt-0.5 text-xs"></i>
                      {{ store.validationErrors().equipmentTypeId }}
                    </p>
                  }
                }
              </div>

              <!-- Protocolo de Comunicación -->
              <div class="space-y-2">
                <label for="protocol" class="block text-sm font-medium text-gray-700">
                  {{ getCommunicationProtocolLabel() }}
                  <span class="text-gray-400 text-xs ml-1">(Opcional)</span>
                </label>

                @if (store.isLoadingProtocols()) {
                  <div class="flex h-10 items-center rounded-lg border border-gray-300 bg-gray-50 px-3">
                    <i class="pi pi-spinner pi-spin text-sm text-gray-400"></i>
                    <span class="ml-2 text-sm text-gray-500">Cargando protocolos...</span>
                  </div>
                } @else {
                  <select
                    id="protocol"
                    [value]="store.formData().communicationProtocolId || ''"
                    (change)="onCommunicationProtocolChange($any($event.target).value)"
                    [disabled]="store.isSubmitting()"
                    class="block w-full rounded-lg border border-gray-300 py-2.5 px-3.5 text-sm text-gray-900 transition-all focus:border-sky-500 focus:outline-none focus:ring-2 focus:ring-sky-500/20 disabled:cursor-not-allowed disabled:bg-gray-50 disabled:text-gray-500">
                    <option value="">Sin protocolo</option>
                    @for (protocol of store.communicationProtocols(); track protocol.id) {
                      <option [value]="protocol.id">{{ protocol.name }}</option>
                    }
                  </select>
                }

                <p class="text-xs text-gray-500">
                  <i class="pi pi-info-circle mr-1"></i>
                  Puedes dejarlo vacío si no aplica
                </p>
              </div>

              <!-- Estado -->
              <div class="space-y-2">
                <label for="status" class="block text-sm font-medium text-gray-700">
                  {{ getStatusLabel() }}
                  <span class="text-red-500">*</span>
                </label>

                <select
                  id="status"
                  [value]="store.formData().status"
                  (change)="onStatusChange($any($event.target).value)"
                  [disabled]="store.isSubmitting()"
                  class="block w-full rounded-lg border border-gray-300 py-2.5 px-3.5 text-sm text-gray-900 transition-all focus:border-sky-500 focus:outline-none focus:ring-2 focus:ring-sky-500/20 disabled:cursor-not-allowed disabled:bg-gray-50 disabled:text-gray-500">
                  <option [value]="EquipmentStatusEnum.OPERATIVE">
                    {{ getEquipmentStatusLabel(EquipmentStatusEnum.OPERATIVE) }}
                  </option>
                  <option [value]="EquipmentStatusEnum.STAND_BY">
                    {{ getEquipmentStatusLabel(EquipmentStatusEnum.STAND_BY) }}
                  </option>
                  <option [value]="EquipmentStatusEnum.INOPERATIVE">
                    {{ getEquipmentStatusLabel(EquipmentStatusEnum.INOPERATIVE) }}
                  </option>
                  <option [value]="EquipmentStatusEnum.RETIRED">
                    {{ getEquipmentStatusLabel(EquipmentStatusEnum.RETIRED) }}
                  </option>
                </select>

                <div class="flex items-center gap-2 rounded-lg border border-gray-200 bg-gray-50 px-3 py-2">
                  <span class="inline-flex items-center gap-1.5 rounded-full px-2.5 py-1 text-xs font-medium"
                        [ngClass]="{
                          'bg-green-100 text-green-700': store.formData().status === EquipmentStatusEnum.OPERATIVE,
                          'bg-yellow-100 text-yellow-700': store.formData().status === EquipmentStatusEnum.STAND_BY,
                          'bg-red-100 text-red-700': store.formData().status === EquipmentStatusEnum.INOPERATIVE,
                          'bg-gray-100 text-gray-700': store.formData().status === EquipmentStatusEnum.RETIRED
                        }">
                    <span class="h-1.5 w-1.5 rounded-full"
                          [ngClass]="{
                            'bg-green-500': store.formData().status === EquipmentStatusEnum.OPERATIVE,
                            'bg-yellow-500': store.formData().status === EquipmentStatusEnum.STAND_BY,
                            'bg-red-500': store.formData().status === EquipmentStatusEnum.INOPERATIVE,
                            'bg-gray-500': store.formData().status === EquipmentStatusEnum.RETIRED
                          }"></span>
                    {{ getEquipmentStatusLabel(store.formData().status) }}
                  </span>
                  <span class="text-xs text-gray-600">← Vista previa del estado</span>
                </div>
              </div>
            </div>
          </div>

          <!-- Form Actions -->
          <div class="sticky bottom-0 flex items-center justify-end gap-3 rounded-xl border border-gray-200 bg-white p-4 shadow-lg">
            <button
              pRipple
              type="button"
              (click)="onCancel()"
              [disabled]="store.isSubmitting()"
              class="flex items-center gap-2 rounded-lg border border-gray-300 bg-white px-5 py-2.5 text-sm font-medium text-gray-700 transition-all hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50">
              <i class="pi pi-times text-sm"></i>
              <span>Cancelar</span>
            </button>

            <button
              pRipple
              type="submit"
              [disabled]="!store.canSubmit()"
              class="flex items-center gap-2 rounded-lg bg-gradient-to-r from-sky-500 to-cyan-500 px-5 py-2.5 text-sm font-semibold text-white shadow-lg shadow-sky-500/25 transition-all hover:shadow-xl hover:shadow-sky-500/40 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2 disabled:cursor-not-allowed disabled:from-gray-300 disabled:to-gray-300 disabled:shadow-none">
              @if (store.isSubmitting()) {
                <i class="pi pi-spinner pi-spin text-sm"></i>
                <span>Guardando...</span>
              } @else {
                <i class="pi pi-check text-sm"></i>
                <span>{{ store.submitButtonText() }}</span>
              }
            </button>
          </div>

        </form>
      }

    </div>
  </main>

</div>

<!-- Modal de Confirmación de Cambio de Tipo -->
<app-confirmation-modal
  [show]="showTypeChangeModal()"
  [title]="'¿Cambiar tipo de equipo?'"
  [message]="'Estás a punto de cambiar el tipo de equipo de:'"
  [itemName]="getEquipmentTypeLabel(store.formData().type) + ' → ' + (pendingTypeChange() ? getEquipmentTypeLabel(pendingTypeChange()!) : '')"
  [warningText]="'Esto cambiará el equipo completamente. Asegúrate de que esta acción es correcta.'"
  [confirmText]="'Sí, cambiar tipo'"
  [isLoading]="false"
  (onConfirm)="confirmTypeChange()"
  (onCancel)="closeTypeChangeModal()">
</app-confirmation-modal>
