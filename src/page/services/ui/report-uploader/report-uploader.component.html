<div class="space-y-4">
  <p class="font-semibold text-gray-700">{{ label }}</p>

  @if (canShowUpload) {
    <div class="flex items-center gap-3">
      <button
        pButton
        type="button"
        label="Subir PDF"
        icon="pi pi-upload"
        [disabled]="isLoading"
        (click)="fileInput.click()">
      </button>
      @if (isLoading) {
        <p-progressSpinner styleClass="w-6 h-6" strokeWidth="6"></p-progressSpinner>
        <span class="text-sm text-gray-500">Subiendo...</span>
      }
      <input
        #fileInput
        type="file"
        class="hidden"
        accept=".pdf"
        (change)="onFileSelect($event)">
    </div>
  }

  @if (file) {
    <div class="flex items-center justify-between gap-3 rounded-md border border-gray-200 bg-white p-3 shadow-sm">
      <div class="flex min-w-0 flex-1 items-center gap-3">
        <i class="pi pi-file-pdf text-xl text-gray-500"></i>
        <div class="min-w-0 flex-1">
          <p class="truncate font-medium text-gray-800" [pTooltip]="file.fileEntity.originalName">
            {{ file.fileEntity.originalName }}
          </p>
          <p class="text-sm text-gray-500">
            {{ formatSize(file.fileEntity.size) }}
          </p>
        </div>
      </div>
      <div class="flex flex-shrink-0 items-center gap-1">
        <button pButton type="button" icon="pi pi-eye" class="p-button-text p-button-secondary" (click)="preview()" pTooltip="Previsualizar"></button>
        <button pButton type="button" icon="pi pi-trash" class="p-button-text p-button-danger" (click)="remove()" pTooltip="Eliminar"></button>
      </div>
    </div>
  } @else if (isLoading && !canShowUpload) {
    <div class="flex items-center gap-2 rounded-md border border-gray-200 bg-white p-3 shadow-sm">
      <p-progressSpinner styleClass="w-5 h-5" strokeWidth="6"></p-progressSpinner>
      <span class="text-sm text-gray-500">Procesando...</span>
    </div>
  }
</div>
